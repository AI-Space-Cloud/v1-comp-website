<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://www.google.com/recaptcha/enterprise.js?render=6Le68KEqAAAAAHCC141L-2HWxB3TfZNkNkcj2ixC"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boost Your Business with Our Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0d6efd, #6610f2);
            color: white;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
        }
        .hero-section {
            padding: 100px 20px;
            text-align: center;
        }
        .hero-title {
            font-size: 3rem;
            font-weight: bold;
        }
        .hero-subtitle {
            font-size: 1.5rem;
            margin-top: 20px;
        }
        .email-form {
            margin-top: 50px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        .email-input {
            background: rgba(255, 255, 255, 0.9);
            color: #0d6efd;
            border: none;
        }
        .subscribe-button {
            background: #ffc107;
            color: #0d6efd;
            font-weight: bold;
            border: none;
        }
        .subscribe-button:hover {
            background: #e0a800;
            color: #fff;
        }
        .zigzag-section {
            background: white;
            color: #0d6efd;
            padding: 50px 20px;
            clip-path: polygon(0 0, 100% 5%, 100% 95%, 0 100%);
        }
        .zigzag-section img {
            max-width: 100%;
            border-radius: 10px;
        }
        .zigzag-content {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        .zigzag-text {
            max-width: 500px;
        }
        .footer {
            margin-top: 100px;
            text-align: center;
            font-size: 0.9rem;
        }
        .language-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1055;
        }
    </style>
</head>
<body>
    <div class="language-switch">
        <button class="btn btn-light" id="lang-en">English</button>
        <button class="btn btn-light" id="lang-vi">Tiếng Việt</button>
    </div>

    <section class="hero-section">
        <h1 class="hero-title" data-en="Unlock Business Growth" data-vi="Tăng Trưởng Kinh Doanh">Unlock Business Growth</h1>
        <p class="hero-subtitle" data-en="Get exclusive access to information on 3000 businesses in Hanoi.<br> Subscribe now and receive the file directly in your inbox." data-vi="Nhận quyền truy cập độc quyền vào thông tin của 3000 doanh nghiệp tại Hà Nội.<br> Đăng ký ngay và nhận tệp trực tiếp trong hộp thư của bạn.">Get exclusive access to information on 3000 businesses in Hanoi.<br> Subscribe now and receive the file directly in your inbox.</p>
        
        <form class="email-form" id="subscribe-form">
            <div class="input-group">
                <input type="email" id="email-input" class="form-control email-input" placeholder="Enter your email" required>
                <button type="submit" class="btn subscribe-button" data-en="Subscribe" data-vi="Đăng Ký">Subscribe</button>
            </div>
        </form>
    </section>

    <section class="zigzag-section">
        <div class="zigzag-content container">
            <div class="zigzag-text">
                <h2 data-en="Why Our Data Matters?" data-vi="Tại Sao Dữ Liệu Của Chúng Tôi Quan Trọng?">Why Our Data Matters?</h2>
                <p data-en="Our comprehensive database of 3000 businesses in Hanoi can help you identify key opportunities, connect with potential partners, and accelerate your business growth in ways you never imagined. Don’t miss this opportunity to stay ahead in the competitive market." data-vi="Cơ sở dữ liệu toàn diện của chúng tôi về 3000 doanh nghiệp tại Hà Nội có thể giúp bạn xác định các cơ hội quan trọng, kết nối với các đối tác tiềm năng và tăng tốc phát triển kinh doanh của bạn theo những cách bạn chưa từng nghĩ tới. Đừng bỏ lỡ cơ hội dẫn đầu trên thị trường cạnh tranh.">Our comprehensive database of 3000 businesses in Hanoi can help you identify key opportunities, connect with potential partners, and accelerate your business growth in ways you never imagined. Don’t miss this opportunity to stay ahead in the competitive market.</p>
            </div>
            <div>
                <img src="https://placehold.co/500" alt="Business growth illustration">
            </div>
        </div>
    </section>

    <footer class="footer">
        <p data-en="&copy; 2024 Business Growth Data | Powered by AI and Innovation" data-vi="&copy; 2024 Dữ Liệu Phát Triển Kinh Doanh | Được Hỗ Trợ Bởi AI và Đổi Mới">&copy; 2024 Business Growth Data | Powered by AI and Innovation</p>
    </footer>

    <div class="toast-container" id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const langButtons = document.querySelectorAll('#lang-en, #lang-vi');
        const toastContainer = document.getElementById('toast-container');

        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                const lang = button.id.split('-')[1];
                document.querySelectorAll('[data-en]').forEach(el => {
                    el.innerHTML = el.getAttribute(`data-${lang}`);
                });
            });
        });

        document.getElementById('subscribe-form').addEventListener('submit', async (e) => {
            e.preventDefault();

            const emailInput = document.getElementById('email-input');
            const email = emailInput.value;
            const recaptcha = grecaptcha.getResponse(); // Lấy token từ reCAPTCHA

            if (!validateEmail(email)) {
                showToast('Invalid email address. Please try again.', 'danger');
                return;
            }

            if (!recaptcha) {
                showToast('The reCAPTCHA is invalid.', 'danger');
                return;
            }

            try {
                const response = await fetch('https://subscribe-api.aispace.cloud/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, recaptcha }),
                });

                if (!response.ok) throw new Error('Failed to subscribe');

                document.body.innerHTML = `
                    <section class="hero-section">
                        <h1 class="hero-title" data-en="Subscription Successful" data-vi="Đăng Ký Thành Công">Subscription Successful</h1>
                        <p class="hero-subtitle" data-en="You will receive the information shortly. Please check your Inbox or Spam folder. Note: emails are sent in batches within 1-3 days." data-vi="Thông tin sẽ được gửi đến bạn sớm nhất. Vui lòng kiểm tra thư mục Inbox hoặc thư mục Spam. Lưu ý: email sẽ được gửi theo từng đợt trong vòng 1-3 ngày.">You will receive the information shortly. Please check your Inbox or Spam folder. Note: emails are sent in batches within 1-3 days.</p>
                    </section>`;
            } catch (error) {
                showToast('Subscription failed. Please try again later.', 'danger');
            } finally {
                grecaptcha.reset(); // Reset reCAPTCHA
            }
        });

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast align-items-center text-bg-${type} border-0`;
            toast.role = 'alert';
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        ${message}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>`;
            
            toastContainer.appendChild(toast);
            const bsToast = new bootstrap.Toast(toast);
            bsToast.show();

            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
        }
    </script>
</body>
</html>